{
  "name": "Purchase Notification - Cyber",
  "Test": [
    {
      "Name": "Validate successful purchase with valid Quote ID, Session ID, and Premium",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-08-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "flase",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 200,
        "validator": {
          "body_validator": {
            "data.sessionId": "notNullValue()",
            "data.portfolioId": "notNullValue()",
            "data.policyNumber": "notNullValue()",
            "data.policyStatus": "equalTo(\"Active\")",
            "data.policyExpiryDate": "notNullValue()",
            "data.policyEffectiveDate": "notNullValue()",
            "data.policycertificateURL": "notNullValue()",
            "data.pnResponseReferenceNo": "notNullValue()"


          }
        }
      }
    },

    {
      "Name": "Validate premium mismatch between Get Quote and Purchase Notification",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-08-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": -1
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 200,
        "validator": {
          "body_validator": {
            "data.sessionId": "notNullValue()",
            "data.portfolioId": "notNullValue()",
            "data.policyNumber": "notNullValue()",
            "data.policyStatus": "equalTo(\"Active\")",
            "data.policyExpiryDate": "notNullValue()",
            "data.policyEffectiveDate": "notNullValue()",
            "data.policycertificateURL": "notNullValue()",
            "data.pnResponseReferenceNo": "notNullValue()"


          }
        }
      }
    },

    {
      "Name": "Validate failure if selectedPackageId does not match quote",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": null,
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P00",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "flase",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 288,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate that inbuilt benefits are not altered",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-08-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": -1
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 200,
        "validator": {
          "body_validator": {
            "data.sessionId": "notNullValue()",
            "data.portfolioId": "notNullValue()",
            "data.policyNumber": "notNullValue()",
            "data.policyStatus": "equalTo(\"Active\")",
            "data.policyExpiryDate": "notNullValue()",
            "data.policyEffectiveDate": "notNullValue()",
            "data.policycertificateURL": "notNullValue()",
            "data.pnResponseReferenceNo": "notNullValue()"


          }
        }
      }
    },

    {
      "Name": "Validate rejection when premium is 0",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-10-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 50,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 0,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 0,
              "grossPremium": 0,
              "basePremium":0,
              "totalPremiumAfterDiscount": 0,
              "tax": 0,
              "basePremiumAfterFee": 0,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate rejection when payment status is FAILURE",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "FAILURE",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate missing required fields like First nme",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "FAILURE",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate error for invalid national ID format",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": null,
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate rejection when both policyHolder and insuredPersons are missing",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [

          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [

            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate purchase with future effective date",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-08-05",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 200,
        "validator": {
          "body_validator": {
            "data.sessionId": "notNullValue()",
            "data.portfolioId": "notNullValue()",
            "data.policyNumber": "notNullValue()",
            "data.policyStatus": "equalTo(\"Active\")",
            "data.policyExpiryDate": "notNullValue()",
            "data.policyEffectiveDate": "notNullValue()",
            "data.policycertificateURL": "notNullValue()",
            "data.pnResponseReferenceNo": "notNullValue()"

          }
        }
      }
    },

    {
      "Name": "Validate rejection for invalid currency code",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "XXX",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-08-05",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 0.5
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Manipulate grossPremium to mismatch components",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": 1000
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    },

    {
      "Name": "Validate rejection if policyFee is negative",
      "Method": "POST",
      "Endpoint": "/360-scb/api/v1/purchase-notification",
      "Request": {
        "body": {
          "productCode": "ALZ-HK-CYB-v001",
          "channel": "IBNK",
          "sessionId": "4a79bbd0-48ae-4ab7-8c66-5f365ff695c4",
          "quoteId": "187d9f3b-6f36-48f9-a9da-f07681ec8b92",
          "pnRequestReferenceNo": "",
          "quoteRequestReferenceNo": "",
          "timestamp": "2025-03-05T06:28:25.414Z",
          "insuranceCompanyCode": "ALZHK",
          "policyHolders": [
            {
              "policyHolderId": 1,
              "personalDetails": {
                "title": "MR",
                "firstName": "Peter",
                "lastName": "Graeme",
                "isSmoker": false,
                "gender": "M",
                "isAdult": true,
                "age": 51,
                "dob": "1973-11-01",
                "occupation": "Engineer",
                "nationality": "SG",
                "nationalIdType": "NRIC",
                "nationalID": "S1234567A",
                "email": "alex@gmail.com",
                "mobile": "99882233",
                "preferredContactMethod": "email",
                "residentialAddress": {
                  "addressLine1": "Blk 123 Street Name",
                  "addressLine2": "Building 5",
                  "addressLine3": "Unit 09-88",
                  "district": "North district",
                  "area": "Kowloon",
                  "city": "Singapore",
                  "postalCode": "123456",
                  "country": "Singapore",
                  "countryCode": "SG"
                }
              }
            }
          ],
          "preferences": {
            "currency": "HKD",
            "language": "en"
          },
          "insuredEntities": {
            "cyber": null
          },
          "quotationDetails": {
            "selectedPackageId": "P001",
            "issueDate": "2025-01-07",
            "effectiveDate": "2025-07-25",
            "quotationReferenceNo": "",
            "expiryDate": "2025-01-25",
            "planType": "Basic",
            "insuredPersons": [
              {
                "insuredPersonsId": 1,
                "personalDetails": {
                  "title": "MR",
                  "firstName": "Alex",
                  "lastName": "Graeme",
                  "nationality": "SG",
                  "email": "alex@gmail.com",
                  "age": 29,
                  "occupation": "Engineer",
                  "mobileNumber": 99882233,
                  "nationalID": "S1234567A",
                  "preferredContactMethod": "email",
                  "gender": "M",
                  "dob": "1993-11-01",
                  "residentialAddress": {
                    "addressLine1": "Blk 123 Street Name",
                    "addressLine2": "Building 5",
                    "addressLine3": "Unit 09-88",
                    "area": "",
                    "district": "",
                    "city": "Singapore",
                    "postalCode": "123456",
                    "countryCode": "SG",
                    "country": "Singapore"
                  }
                },
                "isMainPolicyHolder": "false",
                "otherBenefits": [
                  {
                    "isSelected": "true",
                    "name": "Accelerated Disability",
                    "groupName": "",
                    "isInbuilt": "true",
                    "id": "RDR001",
                    "description": "Provides disability coverage",
                    "information": "",
                    "sequenceId": "01",
                    "coverageLimit": 0,
                    "premium": {
                      "monthlyPremium": 0,
                      "annualPremium": 0
                    }
                  }
                ],
                "coverageExclusions": [
                  {
                    "description": "Inclusion of Flight Aversion Charges",
                    "type": "Fligh Aversion"
                  }
                ],
                "waitingPeriod": 90
              }
            ],
            "premiumDetails": {
              "loading": 0,
              "premiumPayable": 6000.5,
              "totalRiderPremium": 0,
              "totalPremiumBeforeDiscount": 6000.5,
              "grossPremium": 6000.5,
              "basePremium": 6020,
              "totalPremiumAfterDiscount": 6000.5,
              "tax": 0,
              "basePremiumAfterFee": 6000.5,
              "discount": 0,
              "policyFee": -1
            }
          },
          "payment": {
            "method": "CASA",
            "frequency": "Monthly",
            "amount": 120,
            "status": "SUCCESS",
            "dateTime": "2025‑03‑05T06:28:25.414Z",
            "externalReferenceNumber": "SGSCHHOME202504111204356",
            "ddlMandateNumber": "EI9496202504119693",
            "externalTokenNumber": "ABC55566",
            "paymentSessionId": "ABC55566",
            "bankAccount": {},
            "channel": "ibanking"
          },
          "additionalInfo": {
            "email": "ashwin@gmail.com",
            "mobileNo": 57865475
          }
        }
      },
      "Response": {
        "statusCode": 400,
        "validator": {
          "body_validator": {


          }
        }
      }
    }
  ]
}
